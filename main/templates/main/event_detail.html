<!--
============================================================
File Name: event_detail.html
Brief Description:
Displays event details and linked accessibility information for
a single event.

Author: Gavin Plucknett
Created: 2026-01-04
Current Version: v1.0

Change Log:
------------------------------------------------------------
Version | Date       | Change Description                                  | Reference
------------------------------------------------------------
v1.0    | 2026-01-04 | Initial event detail template incl. accessibility   | DEV-121
============================================================
-->

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>{{ event.title }}</title>
</head>
<body>

  <p><a href="{% url 'main:event_list' %}">← Back to events</a></p>

  <h1>{{ event.title }}</h1>

  {% if event.category %}
    <p><strong>Category:</strong> {{ event.category.label }}</p>
  {% endif %}

  <p>
    <strong>When:</strong>
    {{ event.start_datetime|date:"D j M Y, H:i" }}
    –
    {{ event.end_datetime|date:"D j M Y, H:i" }}
  </p>

  <p><strong>Where:</strong> {{ event.location_text }}{% if event.postcode %} ({{ event.postcode }}){% endif %}</p>

  {% if event.description %}
    <h2>Description</h2>
    <p>{{ event.description }}</p>
  {% endif %}

  <h2>Practical info</h2>
  <ul>
    {% if event.age_min or event.age_max %}
      <li><strong>Age range:</strong>
        {% if event.age_min %}{{ event.age_min }}{% else %}Any{% endif %}
        –
        {% if event.age_max %}{{ event.age_max }}{% else %}Any{% endif %}
      </li>
    {% endif %}

    {% if event.price is not None %}
      <li><strong>Price:</strong> £{{ event.price }}</li>
    {% endif %}

    <li><strong>Booking required:</strong> {{ event.booking_required|yesno:"Yes,No" }}</li>

    {% if event.booking_required and event.booking_url %}
      <li><strong>Booking link:</strong> <a href="{{ event.booking_url }}">{{ event.booking_url }}</a></li>
    {% endif %}
  </ul>

  <h2>Accessibility</h2>

  {% if event.accessibility_profile %}
    <ul>
      <li><strong>Wheelchair access:</strong> {{ event.accessibility_profile.wheelchair_access|yesno:"Yes,No" }}</li>

      <li><strong>Accessible toilets:</strong>
        {% if event.accessibility_profile.accessible_toilets is None %}
          Unknown
        {% else %}
          {{ event.accessibility_profile.accessible_toilets|yesno:"Yes,No" }}
        {% endif %}
      </li>

      <li><strong>Quiet space available:</strong>
        {% if event.accessibility_profile.quiet_space_available is None %}
          Unknown
        {% else %}
          {{ event.accessibility_profile.quiet_space_available|yesno:"Yes,No" }}
        {% endif %}
      </li>

      {% if event.accessibility_profile.noise_level %}
        <li><strong>Noise:</strong> {{ event.accessibility_profile.noise_level.label }}</li>
      {% endif %}
      {% if event.accessibility_profile.lighting_conditions %}
        <li><strong>Lighting:</strong> {{ event.accessibility_profile.lighting_conditions.label }}</li>
      {% endif %}
      {% if event.accessibility_profile.crowd_level %}
        <li><strong>Crowd:</strong> {{ event.accessibility_profile.crowd_level.label }}</li>
      {% endif %}
      {% if event.accessibility_profile.sensory_level %}
        <li><strong>Overall sensory load:</strong> {{ event.accessibility_profile.sensory_level.label }}</li>
      {% endif %}
    </ul>

    {% if event.accessibility_profile.additional_notes %}
      <h3>Additional notes</h3>
      <p>{{ event.accessibility_profile.additional_notes }}</p>
    {% endif %}

  {% else %}
    <p><strong>No accessibility profile has been provided for this event yet.</strong></p>
  {% endif %}

</body>
</html>